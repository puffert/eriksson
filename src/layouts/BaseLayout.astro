---
interface Props {
  title: string;
  description?: string;
}

const { title, description = "Vortex Node - Retro-futuristic blog about AI testing and validation" } = Astro.props;

// Ensure proper path with trailing slash
const baseUrl = import.meta.env.BASE_URL.endsWith('/') 
  ? import.meta.env.BASE_URL 
  : `${import.meta.env.BASE_URL}/`;
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content={description} />
    <title>{title} | Vortex Node</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&family=Orbitron:wght@400;700;900&family=IBM+Plex+Mono:wght@400;500;600&family=Source+Code+Pro:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href={`${baseUrl}styles.css`} />
</head>
<body>
    <div class="grid-background"></div>
    <div class="vortex-overlay"></div>
    <div class="crt-scanlines"></div>
    
    <!-- Animated server rack lights - Left side -->
    <div class="server-lights left-server">
        <div class="light blue"></div>
        <div class="light green"></div>
        <div class="light blue"></div>
        <div class="light green"></div>
        <div class="light blue"></div>
        <div class="light green"></div>
        <div class="light orange"></div>
        <div class="light yellow"></div>
        <div class="light red"></div>
    </div>
    <!-- Animated server rack lights - Right side -->
    <div class="server-lights right-server">
        <div class="light green"></div>
        <div class="light blue"></div>
        <div class="light green"></div>
        <div class="light blue"></div>
        <div class="light green"></div>
        <div class="light blue"></div>
        <div class="light yellow"></div>
        <div class="light orange"></div>
        <div class="light red"></div>
    </div>

    <header class="main-header">
        <div class="header-content">
            <a href={baseUrl} class="logo-link">
                <img src={`${baseUrl}logo_transparentSmall.png`} alt="Vortex Node Raven" class="logo-image" />
                <h1 class="logo">
                    <span class="terminal-prompt">></span> VORTEX NODE
                </h1>
            </a>
            <nav class="main-nav">
                <a href={baseUrl} class="nav-link">HOME</a>
                <a href={`${baseUrl}blog`} class="nav-link">POSTS</a>
                <a href={`${baseUrl}learning`} class="nav-link">LEARNING</a>
                <a href={`${baseUrl}labs`} class="nav-link">LABS</a>
                <a href="#" class="nav-link" id="about-btn">ABOUT</a>
                <a href={`${baseUrl}#contact`} class="nav-link">CONTACT</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <slot />
    </main>

    <footer class="main-footer">
        <div class="footer-content">
            <p>&copy; 2024 VORTEX NODE | <span class="footer-status">[SYSTEM_ONLINE]</span></p>
        </div>
    </footer>

    <script is:inline src={`${baseUrl}script.js`}></script>
</body>
</html>

<style>
    .logo-link {
        text-decoration: none;
        color: inherit;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .logo-image {
        height: 60px;
        width: auto;
        filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.6)) 
                drop-shadow(0 0 20px rgba(0, 212, 255, 0.3));
        animation: logoGlow 3s ease-in-out infinite alternate;
    }
    
    @media (max-width: 768px) {
        .logo-image {
            height: 50px;
        }
        
        .logo {
            font-size: 1.2rem;
        }
    }

    @keyframes logoGlow {
        0% { filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.6)) 
                     drop-shadow(0 0 20px rgba(0, 212, 255, 0.3)); }
        100% { filter: drop-shadow(0 0 15px rgba(0, 212, 255, 0.8)) 
                       drop-shadow(0 0 30px rgba(0, 212, 255, 0.5)); }
    }
</style>
